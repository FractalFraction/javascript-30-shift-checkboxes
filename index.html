<html lang="en"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<style>
  body {
    background-color: #F98DC9;
    font-size: 32px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  div {
    margin-top: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  ul {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    gap: 25px;
    background-color: #F765B8;
    padding: 16px 64px 16px 32px;
    border: 1px solid #A8F6F8;
    box-shadow: 10px 10px #27FDF5;
  }

  li {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0px 16px;
    list-style-type: none;
    background-color: #F98DC9;
    padding: 8px 16px 8px 8px;
  }

  label {
    color: #27FDF5;
    text-shadow: 2px 2px #F765B8;
  }

  input {
    padding: 0px;
    margin: 0;
    /* opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0; */ */
    visibility: hidden;
  }

  .checkmark {
    margin-left: -8px;
    margin-right: 8px;
    height: 18px;
    width: 18px;
    border: 0.5px solid #27FDF5;
    border-radius: 3px;
    background-color: #D7FFFE;
    box-shadow: 1px 1px #F765B8;
  }

  input:checked ~ .checkmark {
    background-color: #27FDF5;
  }

</style></head>

<body>
  <div>
    <ul id="todos">
      <li>       
          <input type="checkbox" name="todo-0" id="todo-0">
          <span class="checkmark"></span>
          <label for="todo-1">Buy Groceries</label>
      </li>
      <li>
        <input type="checkbox" name="todo-1" id="todo-1">
        <span class="checkmark"></span>
        <label for="todo-1">Wash Clothes</label>
      </li>
      <li>
        <input type="checkbox" name="todo-2" id="todo-2">
        <span class="checkmark"></span>
        <label for="todo-1">Clean Room</label>
      </li>
      <li>
        <input type="checkbox" name="todo-3" id="todo-3">
        <span class="checkmark"></span>
        <label for="todo-1">Cook Dinner</label>
      </li>
      <li data-children-count="1">
        <input type="checkbox" name="todo-4" id="todo-4">
        <span class="checkmark"></span>
        <label for="todo-1">Study</label>
      </li>
    </ul>
  </div>
  </body>
  <script>
    const inputs = document.querySelectorAll('input');
    const labels = document.querySelectorAll('label')

    let isMulitpleChecks = false;
    let getInputsChecked;

    let firstChecked;
    let lastChecked;
    let inputsToChange;

    // Helper Functions
    function checkmarkToggle(bool = false, index){
      if (bool){
          // Make associated label text have struckthrough text
          labels[index].style.textDecoration = 'line-through';
        } else {
          // Make associated label have text decoration set to normal
          labels[index].style.textDecoration = 'none';
        }
    }

    // Callback Functions
    function enableMulitpleChecks(){
      return function(e){
        if (e.keyCode === 16){
          isMulitpleChecks = true;
        }
      }
    }

    function disableMultipleChecks(){
      return function(e){
        if(e.keyCode === 16){
          isMulitpleChecks = false;
        }
      }
    }

    // Figure out the current checkbox index that has been clicked

    
    // Look at the largest checkbox index that has been clicked from getInputsChecked
    

    
    // See if the current checkbox index is smaller or larger that the min and max of the checked tickboxes
    

    // I want a function that when I click a checkbox it will check the checkboxes of all inputs 
    // above that element!

    // Checkboxes
    inputs.forEach((input, index) => {
      input.addEventListener('click', function(){
        // Toggles the checking
        checkmarkToggle(this.checked, index)
        // Do something if isMultipleChecks is true and another 
        // input has been checked
        if (isMulitpleChecks){
          console.log("Performing multiple checking!");

          getInputsChecked = Array.from(inputs).map(inputToBe => inputToBe.checked);
          console.log({getInputsChecked})

          //firstChecked = getInputsChecked.indexOf(true)

          console.log(index)

          // Inputs to change

          if (lastChecked < index){
            inputsToChange = Array.from(inputs).slice(lastChecked + 1, index)
          } else {
            inputsToChange = Array.from(inputs).slice(index + 1, lastChecked)
          }

          //inputsToChange = Array.from(inputs).slice(firstChecked + 1, lastChecked)

          inputsToChange.forEach(input => input.checked = true)

        } 
        lastChecked = index;
      });
    });

    // Keypress
    document.addEventListener('keydown', enableMulitpleChecks())
    document.addEventListener('keyup', disableMultipleChecks())

  </script>
</html>